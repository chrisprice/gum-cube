<!doctype html5>
<html lang="en">
  <head>
    <style>
        body {
            background: black;
        }
        .container, .cube {
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
        }
        .container {
            /*top: 50%; right: 50%; bottom: 50%; left: 50%;*/
            cursor: move;
        }
        header, footer {
            position: absolute;
            left: 0;
            right: 0;
            text-align: center;
            color: white;
            font: 11px 'Lucida Grande', sans-serif;
        }
        a {
            color : white;
        }
        header {
            top: 0;
        }
        footer {
            bottom: 0;
        }
    </style>
<script id="shader-vs" type="x-shader/x-vertex">
uniform sampler2D uData; 
uniform int uInt;
attribute vec2 aIndex;
varying vec4 vColor;

void main() {
	float radius = 1.0 / 256.0;
	vColor = texture2D(uData, aIndex);
	vec4 color;
	color += texture2D(uData, vec2(aIndex.x - radius, aIndex.y - radius)) *  0.5;
	color += texture2D(uData, vec2(aIndex.x         , aIndex.y - radius)) *  1.0;
	color += texture2D(uData, vec2(aIndex.x + radius, aIndex.y - radius)) *  0.5;

	color += texture2D(uData, vec2(aIndex.x - radius, aIndex.y         )) *  1.0;
	color += texture2D(uData, vec2(aIndex.x         , aIndex.y         )) * -6.0;
	color += texture2D(uData, vec2(aIndex.x + radius, aIndex.y         )) *  1.0;

	color += texture2D(uData, vec2(aIndex.x - radius, aIndex.y + radius)) *  0.5;
	color += texture2D(uData, vec2(aIndex.x         , aIndex.y + radius)) *  1.0;
	color += texture2D(uData, vec2(aIndex.x + radius, aIndex.y + radius)) *  0.5;
	vColor.a = abs((color.r + color.g + color.b) / 3.0) * 2.0;
	gl_Position = projectionMatrix *
		modelViewMatrix *
		vec4(position,1.0);
	gl_PointSize = 1.0;
}
</script>
<script id="shader-fs" type="x-shader/x-fragment">
varying vec4 vColor;

void main(void) {
	gl_FragColor = vColor;
}
</script> 
  </head>
  <body>
    <header>gum-cube - 
        <a href="http://www.github.com/chrisprice" rel="author">chris price</a> -
        <a href="http://www.scottlogic.co.uk/blog/chris">blog</a>
    </header>
    <div class="container">
        <div class="cube"></div>
    </div>
    <footer></footer>
    <script type="text/javascript" src="js/require.js" data-main="js/particles"></script>
  </body>
</html>
